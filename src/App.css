/* Navigation */
.nav-container {
  position: fixed;
  top: var(--spacing-lg);
  left: 0;
  right: 0;
  z-index: 100;
  display: flex;
  justify-content: center;
  pointer-events: none;
  /* Ensure it's centered and safe from layout shifts */
}

/* Apple Liquid Glass Effect */
.nav-pills {
  display: flex;
  align-items: center;
  /* Translucent silver/grey glass background - more transparent for blur */
  background: rgba(240, 240, 240, 0.5);
  /* The Blur magic */
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  /* Subtle border for definition */
  border: 1px solid rgba(255, 255, 255, 0.5);
  border-radius: 100px;
  padding: 6px;
  gap: 4px;
  /* Soft, deep shadow for floating effect */
  box-shadow:
    0 4px 6px -1px rgba(0, 0, 0, 0.1),
    0 2px 4px -1px rgba(0, 0, 0, 0.06),
    0 0 0 1px rgba(0, 0, 0, 0.05);
  /* Extra subtle ring */
  pointer-events: auto;
  transition: all var(--transition-base);
}

.nav-pills:hover {
  background: rgba(245, 245, 245, 0.8);
  box-shadow:
    0 10px 15px -3px rgba(0, 0, 0, 0.1),
    0 4px 6px -2px rgba(0, 0, 0, 0.05),
    0 0 0 1px rgba(0, 0, 0, 0.05);
}

.nav-pill {
  position: relative;
  padding: 8px 24px;
  font-size: 0.9375rem;
  font-weight: 500;
  color: rgba(0, 0, 0, 0.6);
  border-radius: 100px;
  transition: color var(--transition-fast);
  z-index: 1;
  background: transparent;
  cursor: pointer;
  /* Fix for button reset */
  line-height: normal;
}

.nav-pill:hover {
  color: rgba(0, 0, 0, 0.9);
}

.nav-pill.active {
  color: #000000;
  font-weight: 600;
}

.nav-pill-highlight {
  position: absolute;
  inset: 0;
  background: #ffffff;
  border-radius: 100px;
  /* Crisp shadow for the active pill */
  box-shadow:
    0 2px 5px rgba(0, 0, 0, 0.05),
    0 1px 2px rgba(0, 0, 0, 0.1);
  z-index: -1;
}

.nav-pill-label {
  position: relative;
  z-index: 1;
}

/* Layout */
.app {
  min-height: 100vh;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--spacing-xl);
}

/* Section base */
.section {
  padding: var(--spacing-4xl) 0;
  scroll-margin-top: 80px;
}

.section-header {
  margin-bottom: var(--spacing-2xl);
  max-width: 700px;
}

.section-label {
  font-size: 0.8125rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-text-tertiary);
  margin-bottom: var(--spacing-sm);
}

.section-title {
  font-size: clamp(1.5rem, 3vw, 2rem);
  font-weight: 600;
  line-height: 1.3;
  color: var(--color-text);
}

/* Hero Section */
.hero {
  height: auto;
  min-height: 90vh;
  /* Reduced from 100vh/600px to let grid peek through */
  display: flex;
  align-items: flex-start;
  /* Move content up */
  justify-content: center;
  padding-top: 200px;
  /* spacing from top nav */
  padding-bottom: var(--spacing-2xl);
}

.hero .container {
  padding: 0 var(--spacing-lg);
  max-width: 1200px;
  width: 100%;
}

.hero-content {
  max-width: 900px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.hero-avatar img {
  width: 250px;
  height: auto;
  margin-bottom: var(--spacing-md);
  filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.15));
  /* Add subtle depth like mockup often implies */
}

.hero-title {
  font-family: var(--font-display);
  font-weight: 900;
  /* Saans Heavy */
  font-size: 6rem;
  /* 96px */
  letter-spacing: -0.03em;
  /* -3% */
  line-height: 1;
  color: var(--color-text);
  margin-bottom: var(--spacing-sm);
  text-transform: uppercase;
}

.hero-subtitle {
  font-family: var(--font-display);
  font-weight: 500;
  /* Saans Medium */
  font-size: 1.5rem;
  /* 24px */
  color: var(--color-text-secondary);
  line-height: 1.4;
  max-width: 450px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .hero-title {
    font-size: clamp(3rem, 10vw, 4.5rem);
  }

  .hero-subtitle {
    font-size: 1.25rem;
  }

  .hero-avatar img {
    width: 200px;
  }
}

/* Work Section */
.work-section {
  padding-top: 0;
  padding-bottom: var(--spacing-4xl);
  margin-top: 0;
  position: relative;
}

.work-section .container-fluid {
  max-width: 100%;
  padding: 0 var(--spacing-sm);
  /* Minimal padding for the 'entire block' feel */
}

.work-masonry {
  display: flex;
  gap: 12px;
  /* Tighter gap */
  align-items: flex-start;
  justify-content: center;
  width: 100%;
}

.masonry-column {
  display: flex;
  flex-direction: column;
  gap: 12px;
  min-width: 0;
}

/* 6-column layout ratios */
@media (min-width: 1600px) {
  .masonry-column-wide {
    flex: 1.8;
    /* Wide columns take approx 18% */
  }

  .masonry-column-slim {
    flex: 1;
    /* Slim columns take approx 10% */
  }
}

/* Fallback for smaller screens */
@media (max-width: 1599px) {
  .masonry-column {
    flex: 1;
  }
}

@media (max-width: 1024px) {
  /* Flex direction is now handled by the numColumns logic, no need to change direction,
     but we might need to ensure they don't get too thin if JS fails for some reason or during transitions */
}



.work-item {
  position: relative;
  width: 100%;
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  cursor: pointer;
  background: var(--color-surface);
  transition: transform var(--transition-base), box-shadow var(--transition-base);
  margin-bottom: 0;
  /* Let content define aspect ratio */
  display: block;
}

.work-item:hover {
  transform: translateY(-4px);
  box-shadow: 0 16px 32px rgba(0, 0, 0, 0.1);
  z-index: 2;
}

.work-item-image {
  width: 100%;
  height: auto;
  display: block;
  object-fit: cover;
  transition: transform var(--transition-slow);
}

.work-item video.work-item-image {
  width: 100%;
  height: auto;
  display: block;
  object-fit: cover;
}

.work-item:hover .work-item-image {
  transform: scale(1.05);
}

.work-item-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.75) 0%, rgba(0, 0, 0, 0.2) 40%, transparent 60%);
  opacity: 0;
  transition: opacity var(--transition-base);
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: var(--spacing-md);
}

.work-item:hover .work-item-overlay {
  opacity: 1;
}

.work-item-category {
  font-size: 0.6875rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: 4px;
}

.work-item-title {
  font-size: 1rem;
  font-weight: 600;
  color: white;
}

/* Clients Section */
.clients-section {
  padding: var(--spacing-3xl) 0;
  background: var(--color-bg-alt);
  border-top: 1px solid var(--color-border-light);
  border-bottom: 1px solid var(--color-border-light);
}

.clients-section .section-title {
  max-width: 600px;
  margin-bottom: var(--spacing-xl);
}

.clients-grid {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  gap: var(--spacing-2xl);
  flex-wrap: wrap;
}

.client-logo {
  opacity: 0.4;
  transition: opacity var(--transition-base);
}

.client-logo:hover {
  opacity: 0.7;
}

.client-logo span {
  font-size: 1rem;
  font-weight: 600;
  letter-spacing: -0.01em;
  color: var(--color-text);
}

/* Skills Section */
.skills-section {
  background: var(--color-bg);
  padding: var(--spacing-4xl) 0;
}

.skills-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--spacing-3xl);
  margin-bottom: var(--spacing-4xl);
}

@media (max-width: 768px) {
  .skills-grid {
    grid-template-columns: 1fr;
    gap: var(--spacing-2xl);
  }
}

.skills-column {
  padding: var(--spacing-xl);
  background: var(--color-surface);
  border: 1px solid var(--color-border-light);
  border-radius: var(--border-radius-lg);
}

.skills-column h3 {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: var(--spacing-sm);
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  color: var(--color-text);
}

.skills-column h3 svg {
  color: var(--color-accent);
}

.skills-description {
  font-size: 0.9375rem;
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-lg);
  line-height: 1.6;
}

.skills-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.skill-tag {
  padding: 6px 12px;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 100px;
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  transition: all var(--transition-fast);
}

.skill-tag:hover {
  border-color: var(--color-text-tertiary);
  color: var(--color-text);
}

.skills-philosophy {
  padding: var(--spacing-2xl);
  background: linear-gradient(135deg, #f0f9f0 0%, #e8f4f8 100%);
  border-radius: var(--border-radius-lg);
  text-align: center;
}

.skills-philosophy .section-label {
  margin-bottom: var(--spacing-sm);
}

.philosophy-text {
  font-size: clamp(1.25rem, 2.5vw, 1.5rem);
  font-weight: 500;
  line-height: 1.4;
  color: var(--color-text);
  max-width: 700px;
  margin: 0 auto;
}

/* Testimonials Section */
.testimonials-section {
  background: var(--color-bg-alt);
  border-top: 1px solid var(--color-border-light);
}

.testimonials-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: var(--spacing-lg);
}

.testimonial-card {
  padding: var(--spacing-lg);
  background: var(--color-surface);
  border: 1px solid var(--color-border-light);
  border-radius: var(--border-radius);
  transition: all var(--transition-base);
}

.testimonial-card:hover {
  border-color: var(--color-border);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);
}

.testimonial-quote {
  font-size: 0.9375rem;
  line-height: 1.7;
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-lg);
}

.testimonial-author {
  display: flex;
  flex-direction: column;
}

.testimonial-name {
  font-weight: 600;
  font-size: 0.875rem;
  color: var(--color-text);
  font-style: normal;
}

.testimonial-role {
  font-size: 0.8125rem;
  color: var(--color-text-tertiary);
}

/* About Section */
.about-section {
  background: var(--color-bg);
  padding: var(--spacing-4xl) 0;
}

.testimonials-header {
  margin-top: var(--spacing-4xl);
  margin-bottom: var(--spacing-2xl);
  max-width: 700px;
}

/* Contact Section - Peter Lewis style */
.contact-section {
  padding: var(--spacing-4xl) 0 var(--spacing-3xl);
  background: var(--color-bg);
}

.contact-layout {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-xl);
  margin-bottom: var(--spacing-2xl);
}

.contact-image {
  flex-shrink: 0;
}

.contact-image img {
  width: 140px;
  height: 140px;
  object-fit: cover;
  border-radius: var(--border-radius-lg);
  filter: grayscale(100%);
}

.contact-text {
  flex: 1;
}

.contact-label {
  font-size: 1rem;
  font-style: italic;
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-xs);
}

.contact-title {
  font-size: clamp(1.75rem, 4vw, 2.5rem);
  font-weight: 400;
  line-height: 1.25;
  color: var(--color-text);
  letter-spacing: -0.01em;
}

.contact-links {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  flex-wrap: wrap;
}

.contact-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 10px 16px;
  background: transparent;
  color: var(--color-text);
  border: 1px solid var(--color-border);
  border-radius: 100px;
  font-size: 0.875rem;
  font-weight: 500;
  transition: all var(--transition-fast);
}

.contact-link:hover {
  background: var(--color-surface-hover);
  border-color: var(--color-text-tertiary);
}

.contact-link-primary {
  background: var(--color-text);
  color: white;
  border-color: var(--color-text);
}

.contact-link-primary:hover {
  background: #333;
  border-color: #333;
}

@media (max-width: 640px) {
  .contact-layout {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .contact-image img {
    width: 120px;
    height: 120px;
  }
}

/* Footer */
.footer {
  padding: var(--spacing-xl) 0;
  background: var(--color-bg);
  border-top: 1px solid var(--color-border-light);
}

.footer-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  color: var(--color-text-tertiary);
  font-size: 0.8125rem;
}

.footer-note {
  color: var(--color-text-tertiary);
}

/* Modal */
.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.85);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-lg);
}

.modal {
  background: var(--color-surface);
  border-radius: var(--border-radius-lg);
  max-width: 800px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  position: relative;
}

.modal-close {
  position: absolute;
  top: var(--spacing-sm);
  right: var(--spacing-sm);
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.9);
  color: var(--color-text);
  transition: all var(--transition-fast);
  z-index: 10;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.modal-close:hover {
  background: white;
  transform: scale(1.05);
}

.modal-image {
  width: 100%;
  aspect-ratio: 16/9;
  object-fit: cover;
}

.modal-content {
  padding: var(--spacing-xl);
}

.modal-category {
  font-size: 0.8125rem;
  color: var(--color-accent);
  margin-bottom: 4px;
  text-transform: uppercase;
  letter-spacing: 0.03em;
  font-weight: 500;
}

.modal-title {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: var(--spacing-md);
  color: var(--color-text);
}

.modal-description {
  font-size: 1rem;
  color: var(--color-text-secondary);
  line-height: 1.7;
  margin-bottom: var(--spacing-lg);
}

.modal-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.modal-tag {
  padding: 6px 12px;
  background: var(--color-surface-hover);
  border-radius: 100px;
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
}

.modal-meta {
  display: flex;
  justify-content: space-between;
  margin-top: var(--spacing-lg);
  padding-top: var(--spacing-lg);
  border-top: 1px solid var(--color-border-light);
  font-size: 0.8125rem;
  color: var(--color-text-tertiary);
}

/* Responsive */
@media (max-width: 640px) {
  .container {
    padding: 0 var(--spacing-md);
  }

  .hero {
    padding-left: var(--spacing-lg);
    padding-right: var(--spacing-lg);
    height: calc(100vh - 60px);
  }

  .hero-greeting {
    font-size: 1.125rem;
  }

  .hero-title {
    font-size: 1.75rem;
  }

  .hero-links {
    gap: 1.25rem;
  }

  .footer-content {
    flex-direction: column;
    gap: var(--spacing-sm);
    text-align: center;
  }

  .contact-links {
    flex-direction: column;
  }

  .contact-link {
    width: 100%;
    justify-content: center;
  }

  .nav-pill {
    padding: 8px 14px;
    font-size: 0.8125rem;
  }
}